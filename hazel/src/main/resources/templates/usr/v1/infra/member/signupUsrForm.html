<!DOCTYPE html>
<html lang="en-US" dir="ltr">

<div th:replace="~{usr/v1/infra/include/head :: head}"></div>

  <body>

    <!-- ===============================================-->
    <!--    Main Content-->
    <!-- ===============================================-->
    <main class="main" id="top">
      <div class="container">
        <div class="row flex-center min-vh-100 py-5">
          <div class="col-sm-10 col-md-8 col-lg-5 col-xl-5 col-xxl-3"><a class="d-flex flex-center text-decoration-none mb-4" th:href="@{/}">
              <div class="d-flex align-items-center fw-bolder fs-5 d-inline-block"><img src="/usr/v1/template/phoenix-v1.13.0//assets/img/icons/logo.png" alt="phoenix" width="58" />
              </div>
            </a>
            <div class="text-center mb-7">
              <h3 class="text-1000">회원가입</h3>
            </div>
            <form method="post" id="form" name="form" action="memberUsrInsert" class="needs-validation">
			  <div class="mb-3 text-start">
                <label class="form-label" for="ifmmName">이름</label>
                <input class="form-control" name="ifmmName" id="ifmmName" type="text" placeholder="이름을 입력하세요" />
                <div class="invalid-feedback" id="ifmmNameFeedback"></div>
                
              </div>
              <div class="mb-3 text-start">
                <label class="form-label" for="ifmmId">아이디</label>
                <input class="form-control form-icon-input" name="ifmmId" id="ifmmId" type="text" placeholder="아이디를 입력하세요" />
                <div class="invalid-feedback" id="ifmmIdFeedback"></div>
              </div>
              <div class="mb-3 text-start">
                <label class="form-label" for="ifmmPwd">비밀번호</label>
                <input class="form-control" id="ifmmPwd" name="ifmmPwd" type="password" placeholder="비밀번호를 입력하세요" required />
                <div class="invalid-feedback" id="ifmmPwdFeedback"></div>
              </div>
              <div class="mb-3 text-start">
                <label class="form-label" for="ifmmPwdRe">비밀번호 확인</label>
                <input class="form-control" id="ifmmPwdRe" name="ifmmPwdRe" type="password" placeholder="비밀번호를 다시 입력하세요" />
                <div class="invalid-feedback" id="ifmmPwdReFeedback"></div>
              </div>
              <div class="mb-3 text-start">
                <label class="form-label" for="ifmmEmail">이메일</label>
                <input class="form-control" id="ifmmEmail" name="ifmmEmail" type="email" placeholder="name@example.com" />
                <div class="invalid-feedback" id="ifmmEmailFeedback"></div>
              </div>
              <div class="row g-3 mb-3">
                <div class="col-sm-6">
                  <label class="form-label" for="ifmmGenderCd">성별</label>
                  <select id="ifmmGenderCd" name="ifmmGenderCd" class="form-select">
					<option value="">선택하세요</option>
					<option th:each="list : ${@codeService.selectListCachedCode(3)}" th:value="${list.ifcgSeq}" th:text="${list.ifcdName}" th:selected="${list.ifcdSeq} == ${item?.ifmmGenderCd}"></option>
				  </select>
				  <div class="invalid-feedback" id="ifmmGenderCdFeedback"></div>
                </div>
                <div class="col-sm-6">
                  <label class="form-label" for="ifmmKoreanNy">내국인/외국인</label>
                  <select id="ifmmKoreanNy" name="ifmmKoreanNy" class="form-select">
					<option value="1">내국인</option>
					<option value="0">외국인</option>
				  </select>
				  <div class="invalid-feedback" id="ifmmKoreanNyFeedback"></div>
                </div>
              </div>
              <div class="mb-3 text-start">
                <label class="form-label" for="ifmmDob">생년월일</label>
                <input class="form-control" id="ifmmDob" name="ifmmDob" type="date" placeholder="000123" />
                <div class="invalid-feedback" id="ifmmDobFeedback"></div>
              </div>
            <div class="row g-3 mb-3">
              <div class="col-sm-3">
                <label class="form-label" for="ifmmPhoneTelecomCd">통신사</label>
                <select id="ifmmPhoneTelecomCd" name="ifmmPhoneTelecomCd" class="form-select">
					<option value="">선택</option>
					<option th:each="list : ${@codeService.selectListCachedCode(10)}" th:value="${list.ifcgSeq}" th:text="${list.ifcdName}" th:selected="${list.ifcdSeq} == ${item?.ifmmPhoneTelecomCd}"></option>
				  </select>
				  <div class="invalid-feedback" id="ifmmPhoneTelecomCdFeedback"></div>
              </div>
              <div class="col-sm-9">
                <label class="form-label" for="ifmmPhoneNumber">전화번호</label>
                <input class="form-control form-icon-input" id="ifmmPhoneNumber" name="ifmmPhoneNumber" type="text" placeholder="01012345678" />
                <div class="invalid-feedback" id="ifmmPhoneNumberFeedback"></div>
              </div>
            </div>
              <hr class="bg-200 mt-6 mb-6" />
              <button type="button" id="btnSubmit" class="btn btn-primary w-100 mb-3">회원가입</button>
              <div class="text-center"><a class="fs--1 fw-bold" th:href="@{/v1/infra/member/signinUsrForm}">로그인 하기</a></div>
            </form>
          </div>
        </div>
      </div>


    <!-- ===============================================-->
    <!--    JavaScripts-->
    <!-- ===============================================-->
	
	<script src="/usr/vi/js/validationUsr.js"></script>
	
	<script>
	
	document.getElementById("btnSubmit").onclick = function() {
	
	if(validationInst() == false)return false;
	}
	
	function validationInst() {
		if(validationUpdt() == false) {
			return false;
			} else {
				alert("123");
				form.submit();
			}
	}
	
	//function validationUpdt() {
	//	alert("name: " + document.getElementById("name").value)
	//}					
	
	function validationUpdt(){
		if(!checkOnlyKorean('ifmmName', 2, 0, "이름은 한글만 입력 가능합니다")) return false;
		if(!checkOnlyEnglishNumber('ifmmId', 2, 0, "아이디는 영대소문자, 숫자만 입력 가능합니다.")) return false;
	//	if(!checkPassword ('ifmmPwd', 2, 0, "비밀번호는 반드시 8~20 영대문자 특수문자를 포함해야 합니다")) return false;
		if(!checkPasswordAndRe ('ifmmPwd', 2, "비밀번호가 일치하지 않습니다")) return false;
		if(!checkEmail ('ifmmEmail', 2, 0, "이메일 형식을 확인해주세요")) return false;
		if(!checkSelectNull('ifmmGenderCd', 2, "성별을 선택하세요")) return false;
	//	if(!checkDob(0, 11, 11, "숫자만 입력 가능합니다.")) return false;
	//	if(!checkbirthDayH('ifmmDob', 2, 0, "생년월일 6자리를 입력하세요. 예)000123 ")) return false;
		if(!checkSelectNull('ifmmPhoneTelecomCd', 2, "통신사를 선택하세요")) return false;
	//	if(!checkPhone('ifmmPhoneTelecomCd', 11, "휴대폰 번호 11자리를 입력하세요")) return false;
	}
	
	nullToEmpty = function(value){
		if(value == null || value == 'null' || value.length == 0){
			return false;
		} else{
			return true;
		}
	}
	
	</script>
	
	<div th:replace="~{usr/v1/infra/include/linkJs :: linkJs}"></div>
	
  </body>

</html>